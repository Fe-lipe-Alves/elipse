(()=>{var e={9332:()=>{function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var r=1024,n=t<0?0:t,a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],o=Math.floor(Math.log(e)/Math.log(r));return parseFloat((e/Math.pow(r,o)).toFixed(n))+" "+a[o]}function t(t,r){jQuery.each(t,(function(t,n){var a=([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}));r.render({name:n.name,size:e(n.size),extension:n.name.substr(n.name.lastIndexOf(".")+1),uuid:a}),n.uuid=a,r.formData.append(r.input.attr("name")+"["+a+"]",n)}))}$.fn.extend({filedrop:function(e){var r={input:null,render:null,callback:null,formData:new FormData};return e=$.extend(r,e),this.each((function(){var r=[],n=$(this);n.bind("dragover",(function(e){e.stopPropagation(),e.preventDefault(),n.addClass("border-dashed border-2 border-primary-500").removeClass("border-0 border-transparent")})).bind("dragleave",(function(e){e.stopPropagation(),e.preventDefault(),n.removeClass("border-dashed border-2 border-primary-500").addClass("border-0 border-transparent")})),n.bind("drop",(function(a){return a.stopPropagation(),a.preventDefault(),n.removeClass("border-dashed border-2 border-primary-500").addClass("border-0 border-transparent"),r=a.originalEvent.target.files||a.originalEvent.dataTransfer.files,e.render&&t(r,e),e.callback&&e.callback(e),!1})),e.input&&(n.on("click",(function(){e.input.click()})),e.input.on("change",(function(){t(e.input[0].files,e),e.callback&&e.callback(e)})))}))}})}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}(()=>{function e(e,r){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,r){if(!e)return;if("string"==typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,r)}(e))||r&&e&&"number"==typeof e.length){n&&(e=n);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){s=!0,i=e},f:function(){try{l||null==n.return||n.return()}finally{if(s)throw i}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r(9332);var n=new FormData($("#form-work")[0]),a=function(e){var t='<tr class="item-file">\n<th class="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 text-left">\n'+e.name+'</th>\n<td class="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">\n'+e.extension+'</td>\n<td class="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">\n'+e.size+'</td>\n<td class="w-12 border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 text-center">\n<button data-uuid="'+e.uuid+'" type="button" class="remove-file bg-gray-200 text-black font-bold px-2 py-1 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 ease-linear transition-all duration-150"><i class="fas fa-minus"></i></button>';$("#table-files tbody").append(t)},o=function(){$(".remove-file").length>0?$("#table-files").removeClass("hidden"):($("#table-files").addClass("hidden"),$("#table-files tbody").html(""))};$(document).ready((function(){$("#students_class_id").on("change",(function(){var e=$(this).find(":selected").data("teachers"),t=$("#lesson_id");t.prop("disabled",!0).html(""),$.get(e).then((function(e){e.success&&e.lessons.forEach((function(e){t.append('<option value="'+e.id+'">'+e.subject.description+"</option>")})),t.prop("disabled",!1)}))})),$("#box-input-file").filedrop({input:$("#files"),render:a,callback:o,formData:n}),$("#form-work").on("submit",(function(t){t.preventDefault();var r=new FormData($(this)[0]);r.delete("files");var a,o=e(r.entries());try{for(o.s();!(a=o.n()).done;){var i=a.value;n.append(i[0],i[1])}}catch(e){o.e(e)}finally{o.f()}$.ajax({url:$(this).attr("action"),data:n,cache:!1,contentType:!1,processData:!1,type:"POST",success:function(e){var t;e.success?$(location).attr("href",e.route):e.hasOwnProperty("errors")&&(t=e.errors,Object.keys(t).forEach((function(e){var r='<small class="error-input text-red-600">'+t[e]+"</small>";$(r).insertAfter('[name="'+e+'"]')})),$([document.documentElement,document.body]).animate({scrollTop:$(".error-input").offset().top-80},500))}})})),$(document).on("click",".remove-file",(function(){n.delete($("#files").attr("name")+"["+$(this).attr("data-uuid")+"]"),$(this).parents("tr.item-file").remove(),o()})),$(".remove-file-uploaded").on("click",(function(){$(this).parent().append('<input type="hidden" name="deletefile[]" value="'+$(this).data("id")+'"/>'),$(this).parents(".item-file").hide()}))}))})()})();